---
phase: 35.2-dca-bot-detail-screen
plan: 03
type: execute
wave: 1
depends_on: []
files_modified:
  - TradingBot.Mobile/lib/features/home/presentation/home_screen.dart
autonomous: true
requirements: [DCA-UI-01]
gap_closure: true

must_haves:
  truths:
    - "Tapping the PortfolioStatsSection area on HomeScreen navigates to /home/bot-detail"
    - "The DCA Bot Detail screen pushes full-screen above the tab bar (no bottom nav visible)"
    - "A visual chevron or affordance indicates the section is tappable"
  artifacts:
    - path: "TradingBot.Mobile/lib/features/home/presentation/home_screen.dart"
      provides: "Tappable navigation entry point to DCA Bot Detail screen"
      contains: "context.push"
  key_links:
    - from: "TradingBot.Mobile/lib/features/home/presentation/home_screen.dart"
      to: "/home/bot-detail"
      via: "context.push in GestureDetector onTap"
      pattern: "context\\.push\\('/home/bot-detail'\\)"
---

<objective>
Add a tappable navigation entry point in HomeScreen that navigates to the DCA Bot Detail screen at /home/bot-detail.

Purpose: Closes the verification gap for DCA-UI-01 / Truth 1 -- the route exists and the screen is complete, but no UI element in the app triggers navigation to it. Without this, the DCA Bot Detail screen is unreachable by users.

Output: Updated home_screen.dart with a tappable wrapper around PortfolioStatsSection that pushes /home/bot-detail.
</objective>

<execution_context>
@/Users/baotoq/.claude/get-shit-done/workflows/execute-plan.md
@/Users/baotoq/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/STATE.md
@.planning/phases/35.2-dca-bot-detail-screen/35.2-VERIFICATION.md
@TradingBot.Mobile/lib/features/home/presentation/home_screen.dart
@TradingBot.Mobile/lib/features/home/presentation/widgets/portfolio_stats_section.dart
@TradingBot.Mobile/lib/core/widgets/pressable_scale.dart
@TradingBot.Mobile/lib/app/router.dart
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add tappable navigation entry point from HomeScreen to DCA Bot Detail</name>
  <files>
    TradingBot.Mobile/lib/features/home/presentation/home_screen.dart
  </files>
  <action>
In `home_screen.dart`, wire the `PortfolioStatsSection` as a tappable entry point to the DCA Bot Detail screen.

**1. Add import:**
- `import 'package:go_router/go_router.dart';` (for `context.push`)

**2. Modify `_buildContent` method:**
Wrap the `PortfolioStatsSection` widget in a `GestureDetector` (not PressableScale -- PressableScale adds haptic + scale animation which is too heavy for a large section; a simple tap handler with visual chevron is more appropriate for a large tappable area).

Replace:
```dart
PortfolioStatsSection(portfolio: homeData.portfolio),
```

With:
```dart
GestureDetector(
  onTap: () => context.push('/home/bot-detail'),
  behavior: HitTestBehavior.opaque,
  child: Row(
    children: [
      Expanded(child: PortfolioStatsSection(portfolio: homeData.portfolio)),
      Icon(Icons.chevron_right, color: Colors.white54, size: 20),
    ],
  ),
),
```

The `Row` with `Expanded` + chevron icon provides a visual affordance that the section is tappable and navigates forward. `HitTestBehavior.opaque` ensures the entire area (including empty space) is tappable.

**3. Fix `_buildContent` signature for context access:**
The method currently takes `homeData` as an untyped parameter and has no access to `BuildContext`. Since `_buildContent` is called inside `build(BuildContext context, WidgetRef ref)`, pass `context` as a parameter:

Change method signature from:
```dart
List<Widget> _buildContent(homeData) {
```
To:
```dart
List<Widget> _buildContent(BuildContext context, homeData) {
```

Update both call sites in `build()` from `_buildContent(value)` / `_buildContent(cachedValue)` to `_buildContent(context, value)` / `_buildContent(context, cachedValue)`.

**Conventions:**
- No `withOpacity` usage (none needed here).
- No BackdropFilter in scroll context.
- The chevron icon uses `Colors.white54` for subtle secondary visual weight.
  </action>
  <verify>
Run `dart analyze TradingBot.Mobile` -- zero errors. Grep for `context.push('/home/bot-detail')` in home_screen.dart to confirm the navigation call exists.
  </verify>
  <done>
PortfolioStatsSection in HomeScreen is wrapped in a GestureDetector that calls context.push('/home/bot-detail') on tap. A chevron_right icon provides visual affordance. The DCA Bot Detail screen is now reachable from the home UI, satisfying DCA-UI-01 Truth 1.
  </done>
</task>

</tasks>

<verification>
1. Run `dart analyze TradingBot.Mobile` -- zero errors
2. Grep for `context.push('/home/bot-detail')` in home_screen.dart -- confirms navigation wiring exists
3. Visual check: On HomeScreen, the portfolio stats section shows a right chevron icon
4. Visual check: Tapping the portfolio stats area navigates to the DCA Bot Detail screen full-screen (no bottom nav bar)
5. Visual check: Back button on DCA Bot Detail screen returns to HomeScreen
</verification>

<success_criteria>
- home_screen.dart contains `context.push('/home/bot-detail')` inside a GestureDetector wrapping PortfolioStatsSection
- Chevron icon visible to the right of portfolio stats as navigation affordance
- Tapping the area opens DCA Bot Detail screen full-screen above the tab bar
- No analyzer errors
</success_criteria>

<output>
After completion, create `.planning/phases/35.2-dca-bot-detail-screen/35.2-03-SUMMARY.md`
</output>
