---
phase: 25-nuxt-deprecation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - TradingBot.AppHost/AppHost.cs
autonomous: true
requirements:
  - DEPR-01
must_haves:
  truths:
    - "Running `dotnet run` in TradingBot.AppHost does not start the Nuxt dashboard container"
    - "The TradingBot.Dashboard directory and all its code remain intact and undeleted"
    - "The API service still receives the Dashboard__ApiKey environment variable"
    - "The Aspire app builds and starts without errors"
  artifacts:
    - path: "TradingBot.AppHost/AppHost.cs"
      provides: "Aspire orchestration without Nuxt dashboard resource"
      contains: "AddProject<Projects.TradingBot_ApiService>"
  key_links:
    - from: "TradingBot.AppHost/AppHost.cs"
      to: "TradingBot.ApiService"
      via: "Aspire project reference"
      pattern: "AddProject<Projects.TradingBot_ApiService>"
---

<objective>
Remove the Nuxt dashboard NodeApp resource from Aspire orchestration so `dotnet run` in AppHost no longer starts the Nuxt dev server.

Purpose: The Flutter mobile app replaces the Nuxt web dashboard. The dashboard code is preserved for reference but should no longer start during local development.
Output: Updated AppHost.cs without the Nuxt dashboard resource registration.
</objective>

<execution_context>
@/Users/baotoq/.claude/get-shit-done/workflows/execute-plan.md
@/Users/baotoq/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/ROADMAP.md
@.planning/STATE.md
@TradingBot.AppHost/AppHost.cs
</context>

<tasks>

<task type="auto">
  <name>Task 1: Remove Nuxt dashboard resource from AppHost.cs</name>
  <files>TradingBot.AppHost/AppHost.cs</files>
  <action>
In `TradingBot.AppHost/AppHost.cs`, delete the entire Nuxt dashboard block (lines 64-71):

```csharp
// Dashboard (Nuxt 4)
var dashboard = builder.AddNodeApp("dashboard", "../TradingBot.Dashboard", "dev")
    .WithHttpEndpoint(port: 3000, env: "PORT")
    .WithExternalHttpEndpoints()
    .WithEnvironment("NUXT_PUBLIC_API_ENDPOINT", apiService.GetEndpoint("http"))
    .WithEnvironment("NUXT_API_KEY", dashboardApiKey)
    .WithReference(apiService)
    .WaitFor(apiService);
```

KEEP the `dashboardApiKey` parameter declaration (`var dashboardApiKey = builder.AddParameter("dashboardApiKey", secret: true);`) because it is still used by the API service on line 62: `.WithEnvironment("Dashboard__ApiKey", dashboardApiKey)`.

Do NOT delete, move, or modify any files inside `TradingBot.Dashboard/`.
  </action>
  <verify>
1. Run `dotnet build TradingBot.AppHost` from the repo root -- must compile without errors or warnings about unused variables.
2. Confirm `TradingBot.Dashboard/` directory still exists: `ls TradingBot.Dashboard/nuxt.config.ts`.
3. Grep AppHost.cs to confirm no `AddNodeApp` or `"dashboard"` resource remains: `grep -c "AddNodeApp" TradingBot.AppHost/AppHost.cs` returns 0.
  </verify>
  <done>AppHost.cs no longer registers the Nuxt dashboard as an Aspire resource. The dashboardApiKey parameter and API service configuration remain intact. TradingBot.Dashboard directory is untouched.</done>
</task>

</tasks>

<verification>
1. `dotnet build TradingBot.AppHost` succeeds with no errors
2. `grep "AddNodeApp" TradingBot.AppHost/AppHost.cs` returns no matches
3. `ls TradingBot.Dashboard/nuxt.config.ts` confirms dashboard code still exists
4. `grep "dashboardApiKey" TradingBot.AppHost/AppHost.cs` still finds the parameter declaration and API service usage
</verification>

<success_criteria>
- AppHost.cs compiles and does not reference the Nuxt dashboard resource
- TradingBot.Dashboard directory and all its contents remain intact
- API service still receives Dashboard__ApiKey environment variable via Aspire
</success_criteria>

<output>
After completion, create `.planning/phases/25-nuxt-deprecation/25-01-SUMMARY.md`
</output>
